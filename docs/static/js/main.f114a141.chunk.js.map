{"version":3,"sources":["components/SearchForm/index.tsx","components/Header/index.tsx","components/ContractInfo/index.tsx","components/UseCaseList/index.tsx","components/UseCase/index.tsx","utils/deleteComment.ts","utils/takeOutFromCode.ts","components/SequenceGraph/index.tsx","components/Code/index.tsx","utils/makeChart.ts","components/FlowChart/index.tsx","hooks/useEtherscan.ts","hooks/useEVM.ts","components/Analytics/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["SearchForm","useState","address","setAddress","Box","sx","backgroundColor","borderRadius","TextField","placeholder","variant","value","onChange","event","target","size","width","IconButton","color","onClick","window","location","assign","height","Header","AppBar","position","Toolbar","Typography","flexGrow","component","href","ContractInfo","info","name","display","license","proxy","UseCaseList","props","func","setFunc","selectedIndex","setSelectedIndex","useEffect","functions","setSelectCase","handleListItemClick","index","listItems","map","i","ListItemButton","selected","ListItemText","primary","takeOutFunction","toString","overflow","List","indexOf","slice","UseCase","deleteComment","code","start","end","takeOutFunctions","middle","searchEnd","takeOutStorage","storage","types","word","checkWords","searchWord2","takeOutModifier","events","searchWord1","takeOutEvents","start1","start2","words","length","lastIndexOf","SequenceGraph","selectCase","setSelectCode","setEvents","setFunctions","modifiers","setModifiers","setStorage","all","setAll","setArray","chart","setChart","myRef","createRef","handleCode","changeChart","handleMermaid","Object","array","keys","forEach","key1","list","deleteString","keyCode","key2","push","console","log","node","current","removeAttribute","mermaid","initialize","startOnLoad","sequence","useMaxWidth","securityLevel","callback","e","contentLoaded","init","mt","ref","className","hljsDefineSolidity","hljs","initHighlightingOnLoad","Code","selectCode","initHighlighting","makeChart","count","popName","shift","newName","FlowChart","useCase","madeChart","chartNew","flowchart","mx","axios","require","urlBack","process","REACT_APP_ETHERSCAN_API","getEtherscan","error","response","get","data","result","EVM","Web3","web3","providers","HttpProvider","getFunctions","eth","getCode","byteCode","evm","Analytics","setInfo","setCode","search","useLocation","query","URLSearchParams","setSelectCodeFunction","codeName","res","ContractName","LicenseType","Proxy","SourceCode","bgcolor","padding","pb","flexDirection","caseName","App","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.f114a141.chunk.js","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { Box, TextField, IconButton } from '@mui/material';\nimport SearchIcon from '@mui/icons-material/Search'\n\nexport const SearchForm = () => {\n  const [address, setAddress] = useState<string>('');\n  \n  const onChange = (event : React.ChangeEvent<HTMLInputElement>) => {\n    const value = event.target.value;\n    setAddress(value);\n  }\n  const onClick = () => {\n    window.location.assign('/CodeDAO/?address=' + address);\n  }\n\n  return (\n    <>\n    <Box sx={{backgroundColor:\"white\",borderRadius:1}}>\n      <TextField \n        placeholder=\"0xから始まるアドレス\"\n        variant=\"outlined\"\n        value={address}\n        onChange={onChange}\n        size=\"small\"\n        sx={{width: \"400px\"}}\n      />\n    </Box>\n    <IconButton color=\"secondary\" onClick={onClick}>\n      <SearchIcon sx={{height:\"30px\",width:\"30px\",color:\"white\"}}/>\n    </IconButton>\n    </>\n  )\n}","import React, { useEffect, useState } from 'react';\nimport AppBar from '@mui/material/AppBar'\nimport Box from '@mui/material/Box'\nimport Toolbar from '@mui/material/Toolbar'\nimport Typography from '@mui/material/Typography'\nimport {SearchForm} from '../SearchForm'\n\nexport const Header = () => {\n  return (\n    <Box>\n      <AppBar position=\"static\" sx={{height: \"60px\"}}>\n        <Toolbar>\n          <Typography variant=\"h3\" sx={{flexGrow: 1}}>\n            CodeDAO\n          </Typography>\n          <Typography component=\"a\" href=\"/CodeDAO\" variant=\"h5\" sx={{color:\"yellow\",flexGrow:1}}>\n            Home\n          </Typography>\n          <Typography component=\"a\" href=\"https://github.com/retocrooman/CodeDAO\" variant=\"h5\" sx={{color:\"yellow\",flexGrow:20}}>\n            Github\n          </Typography>\n          <SearchForm/>\n        </Toolbar>\n      </AppBar>\n    </Box>\n    )\n}","import React, {useEffect, useState} from 'react';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport { ContractInfoProps } from '../../types';\n\nexport const ContractInfo = ({address, info}: ContractInfoProps) => {\n  return (\n    <Box sx={{backgroundColor:\"white\", height:\"8vh\"}}>\n      <Typography variant=\"h6\">\n        コントラクト名: {info.name}\n      </Typography>\n      <Box sx={{display:\"flex\"}}>\n        <Typography variant=\"h6\" sx={{flexGrow: 10}}>\n          アドレス: {info.address}\n        </Typography>\n        <Typography variant=\"h6\" sx={{flexGrow: 1}}>\n          ライセンス: {info.license}\n        </Typography>\n        <Typography variant=\"h6\" sx={{flexGrow: 1}}>\n          プロキシ: {(info.proxy === '1')?'Yes':'No'}\n        </Typography>\n      </Box>\n    </Box>\n  )\n}","import { useEffect, useState } from 'react';\nimport Box from '@mui/material/Box';\nimport List from '@mui/material/List';\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemText from '@mui/material/ListItemText';\n\nexport const UseCaseList = (props: {functions: string[], setSelectCase: (caseName: string) => void}) => {\n  const [func, setFunc] = useState<string[]>([]);\n  const [selectedIndex, setSelectedIndex] = useState<number>(1);\n\n  useEffect(() => {\n    setFunc(props.functions);\n    props.setSelectCase(props.functions[0]);\n  }, [props.functions]);\n\n  const handleListItemClick = (event: any, index: number) => {\n    setSelectedIndex(index);\n    props.setSelectCase(func[index]);\n  };\n\n  const listItems = func.map((func: string, i: number) => \n    <ListItemButton\n      key={i.toString()}\n      selected={selectedIndex === i}\n      onClick={(event) => handleListItemClick(event, i)}\n    >\n      <ListItemText primary={takeOutFunction(func)} />\n    </ListItemButton>\n  );\n\n  return (\n    <Box sx={{ width: '100%',overflow:\"auto\"}}>\n      <List component=\"nav\" aria-label=\"main mailbox folders\">\n        {listItems}\n      </List>\n    </Box>\n  );\n}\n\nconst takeOutFunction = (func: string) => {\n  const i = func.indexOf('(');\n  return func.slice(0, i);\n}","import React, {useEffect, useState} from 'react';\nimport AppBar from '@mui/material/AppBar'\nimport Box from '@mui/material/Box'\nimport Toolbar from '@mui/material/Toolbar'\nimport Typography from '@mui/material/Typography'\nimport { UseCaseProps } from '../../types';\nimport { UseCaseList } from '../UseCaseList';\n\nexport const UseCase = ({functions, setSelectCase}: UseCaseProps) => {\n  return (\n    <Box sx={{backgroundColor:\"white\",width:\"15vw\"}}>\n      <Typography variant=\"h5\">\n        ユースケース\n      </Typography>\n      <UseCaseList functions={functions} setSelectCase={setSelectCase}/>\n    </Box>\n  )\n}","export const deleteComment = async (code: string) => {\n  while(code.indexOf('/*') !== -1) {\n    const start = code.indexOf('/*');\n    const end = code.indexOf('*/')+2;\n    code = code.slice(0,start) + code.slice(end);\n  }\n  return code;\n}","export const takeOutFunctions = async (code: string) => {\n  const functions: {[name: string]: string} = {};\n  while(code.indexOf(' function ') !== -1) {\n    const start = code.indexOf(' function ');\n    const middle = code.indexOf('(', start);\n    const end = await searchEnd(code, start);\n    functions[code.slice(start+10,middle)] = code.slice(start+1, end);\n    code = code.slice(end);\n  }\n  return functions;\n}\n\nexport const takeOutStorage = async (code: string) => {\n  const storage: {[nam: string]: string} = {};\n  while(code.indexOf(' function ') !== -1) {\n    const start = code.indexOf(' function ');\n    const end = await searchEnd(code, start);\n    code = code.slice(0, start) + code.slice(end);\n  }\n  const types = [' mapping', ' uint', ' bool', ' address', ' bytes'];\n  while(true) {\n    const word = checkWords(types, code);\n    if (word === '') break;\n    const { start, middle, end} = await searchWord2(word, code);\n    storage[code.slice(middle+1, end-1)] = code.slice(start+1, end);\n    code = code.slice(end);\n  }\n  return storage;\n}\n\nexport const takeOutModifier = async (code: string) => {\n  const events: {[name: string]: string} = {};\n  while(code.indexOf(' modifiers ') !== -1) {\n    const { start, middle, end} = await searchWord1(' modifiers ', code);\n    events[code.slice(start+11,middle)] = code.slice(start+1, end);\n    code = code.slice(end);\n  }\n  return events;\n}\n\nexport const takeOutEvents = async (code: string) => {\n  const events: {[name: string]: string} = {};\n  while(code.indexOf(' event ') !== -1) {\n    const { start, middle, end} = await searchWord1(' event ', code);\n    events[code.slice(start+7,middle)] = code.slice(start+1, end);\n    code = code.slice(end);\n  }\n  return events;\n}\n\nconst searchEnd = async (code: string, start: number) => {\n  let start1 = code.indexOf('{', start)+1;\n  code.slice(start1);\n  while(true) {\n    const start2 = code.indexOf('{', start1)+1;\n    const end = code.indexOf('}', start1)+1;\n    if (start2 === 0 || start2 > end) return end;\n    start1 = end;\n  }\n}\n\nconst checkWords = (words: string[], code: string) => {\n  const length = words.length;\n  for (let i=0; i<length; i++) {\n    const word = words[i];\n    if (code.indexOf(word) !== -1) return word;\n  }\n  return '';\n}\n\nconst searchWord1 = async (word:string, code: string) => {\n  const start = code.indexOf(word);\n  const middle = code.indexOf('(', start);\n  const end = code.indexOf(';', middle)+1;\n  return {start, middle, end};\n}\n\nconst searchWord2 = async (word: string, code: string) => {\n  const start = code.indexOf(word);\n  const end = code.indexOf(';', start)+1;\n  const middle = code.lastIndexOf(' ', end);\n  return {start, middle, end};\n}","import {createRef, useEffect, useState} from 'react';\nimport { Typography, Box } from '@mui/material';\nimport { SequenceGraphProps } from '../../types';\nimport mermaid from 'mermaid';\nimport mermaidAPI from 'mermaid/mermaidAPI';\nimport { deleteComment } from '../../utils/deleteComment';\nimport { takeOutEvents, takeOutFunctions, takeOutModifier, takeOutStorage } from '../../utils/takeOutFromCode';\nimport { makeChart } from '../../utils/makeChart';\n\nexport const SequenceGraph = ({code, selectCase, setSelectCode}: SequenceGraphProps) => {\n  const [events, setEvents] = useState<{[name:string]: string}>({});\n  const [functions, setFunctions] = useState<{[name:string]: string}>({});\n  const [modifiers, setModifiers] = useState<{[name:string]: string}>({});\n  const [storage, setStorage] = useState<{[name:string]: string}>({});\n  const [all, setAll] = useState<{[name:string]: string}>({});\n  const [array, setArray] = useState<{[name:string]: string[]}>({});\n  const [chart, setChart] = useState<string>('');\n  const myRef = createRef<HTMLDivElement>();\n\n  useEffect(() => {\n    handleCode(code);\n  }, [code]);\n\n  useEffect(() => {\n    changeChart();\n  }, [functions, modifiers, storage, selectCase]);\n\n  useEffect(() => {\n    handleMermaid();\n  }, [chart]);\n\n  const handleCode = async (code:string) => {\n    code = await deleteComment(code);\n    const events = await takeOutEvents(code);\n    const functions = await takeOutFunctions(code);\n    const modifiers = await takeOutModifier(code);\n    const storage = await takeOutStorage(code);\n    const all: {[name:string]: string} = {}\n    Object.assign(all, events, functions, modifiers, storage);\n    const array: {[name:string]: string[]} = {};\n    Object.keys(all).forEach(async function(key1){\n      const list: string[] = [];\n      let keyCode: string = await deleteString(all[key1]);\n      Object.keys(all).forEach(function(key2){\n        if (key1 === key2) return;\n        if (keyCode.indexOf(' '+key2+' ') !== -1) list.push(key2);\n        if (keyCode.indexOf(' '+key2+'(') !== -1) list.push(key2);\n        if (keyCode.indexOf(' '+key2+')') !== -1) list.push(key2);\n        if (keyCode.indexOf(' '+key2+'[') !== -1) list.push(key2);\n        if (keyCode.indexOf(' '+key2+';') !== -1) list.push(key2);\n        if (keyCode.indexOf(' '+key2+',') !== -1) list.push(key2);\n        if (keyCode.indexOf(')'+key2+',') !== -1) list.push(key2);\n        if (keyCode.indexOf('('+key2+',') !== -1) list.push(key2);\n        if (keyCode.indexOf('['+key2+']') !== -1) list.push(key2);\n      });\n      array[key1] = list;\n    });\n    console.log(array);\n    setFunctions(functions);\n    setEvents(events);\n    setModifiers(modifiers);\n    setStorage(storage);\n    setAll(all);\n    setArray(array);\n  } \n\n  const changeChart = async () =>{\n    const chartNew = `\n    sequenceDiagram\n    _mint ->> totalSupply: change\n    _mint ->> balance: change`\n    setChart(chartNew);\n  }\n\n  const handleMermaid = () => {\n    const node = myRef.current;\n    if (!node) return;\n    node.removeAttribute('data-processed');\n    var config = {\n      startOnLoad:true,\n      sequence:{\n        width:100,\n        height:40,\n        useMaxWidth:false,\n      },\n      securityLevel:'loose' as mermaidAPI.SecurityLevel,\n    };\n    mermaid.initialize(config);\n    (window as any).callback = function (e: any) {\n      setSelectCode(all[e]);\n    }\n    mermaid.contentLoaded();\n    mermaid.init(node);\n  }\n\n  return (\n    <Box component=\"span\" sx={{backgroundColor:\"white\",height:\"45vh\",mt:\"10px\"}}>\n      <Typography variant=\"h5\">\n        シーケンス\n      </Typography>\n      <Box sx={{overflow:\"auto\"}}>\n      {\tchart &&\n        <div ref={myRef} className=\"mermaid\">\n            { chart }\n        </div>\n      }\n      </Box>\n    </Box>\n  )\n}\n\nconst takeOutFunction = (func: string) => {\n  const i = func.indexOf('(');\n  return func.slice(0, i);\n}\n\nconst deleteString = async (code: string) => {\n  while(code.indexOf('\\\"') !== -1) {\n    const start = code.indexOf('\\\"');\n    let end = code.indexOf('\\\"', start+1)+1;\n    if (end === 0) return code;\n    if (code.length <= end)  end = end-1;\n    code = code.slice(0, start) + code.slice(end);\n  }\n  while(code.indexOf('\\'') !== -1) {\n    const start = code.indexOf('\\'');\n    let end = code.indexOf('\\'', start+1)+1;\n    if (end === 0) return code;\n    if (code.length <= end) end = end-1;\n    code = code.slice(0, start) + code.slice(end);\n  }\n  return code;\n}","import React, {useEffect, useState, ReactPropTypes} from 'react';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport { CodeProps } from '../../types';\nimport hljs from 'highlight.js/lib/core';\nimport hljsDefineSolidity from 'highlightjs-solidity';\nimport 'highlight.js/styles/atom-one-light.css';\nimport './Code.css';\n\nhljsDefineSolidity(hljs);\nhljs.initHighlightingOnLoad();\n\nexport const Code = ({selectCode}: CodeProps) => {\n  useEffect(() => {\n    hljs.initHighlighting();\n  });\n\n  return (\n    <Box sx={{backgroundColor:\"white\",height:\"35vh\",overflow:\"auto\"}}>\n      <Typography variant=\"h5\">\n        コード\n      </Typography>\n      <Box sx={{overflow:\"auto\"}}>\n      <pre className=\"Pre\">\n        <code className='solidity'>\n          {selectCode}\n        </code>\n      </pre>\n      </Box>\n    </Box>\n  )\n}","export const makeChart = async (name: string, array: {[name: string]: string[]}) => {\n  let chart = '';\n  const list: string[] = [];\n  list.push(name);\n  let count = 0;\n  while(list.length !== 0) {\n    const popName: string = list[0];\n    list.shift();\n    const length = array[popName].length;\n    for(let i=0; i<length; i++) {\n      const newName = array[popName][i];\n      chart += `${popName}-->${newName}\n      click ${newName} callback\n      `;\n      list.push(newName);\n    }\n    count++;\n    if (count > 15) break;\n  }\n  return chart;\n}","import {createRef, useEffect, useState} from 'react';\nimport { Typography, Box } from '@mui/material';\nimport { SequenceGraphProps } from '../../types';\nimport mermaid from 'mermaid';\nimport mermaidAPI from 'mermaid/mermaidAPI';\nimport { deleteComment } from '../../utils/deleteComment';\nimport { takeOutEvents, takeOutFunctions, takeOutModifier, takeOutStorage } from '../../utils/takeOutFromCode';\nimport { makeChart } from '../../utils/makeChart';\n\nexport const FlowChart = ({code, selectCase, setSelectCode}: SequenceGraphProps) => {\n  const [events, setEvents] = useState<{[name:string]: string}>({});\n  const [functions, setFunctions] = useState<{[name:string]: string}>({});\n  const [modifiers, setModifiers] = useState<{[name:string]: string}>({});\n  const [storage, setStorage] = useState<{[name:string]: string}>({});\n  const [all, setAll] = useState<{[name:string]: string}>({});\n  const [array, setArray] = useState<{[name:string]: string[]}>({});\n  const [chart, setChart] = useState<string>('');\n  const myRef = createRef<HTMLDivElement>();\n\n  useEffect(() => {\n    handleCode(code);\n  }, [code]);\n\n  useEffect(() => {\n    changeChart();\n  }, [functions, modifiers, storage, selectCase]);\n\n  useEffect(() => {\n    handleMermaid();\n  }, [chart]);\n\n  const handleCode = async (code:string) => {\n    code = await deleteComment(code);\n    const events = await takeOutEvents(code);\n    const functions = await takeOutFunctions(code);\n    const modifiers = await takeOutModifier(code);\n    const storage = await takeOutStorage(code);\n    const all: {[name:string]: string} = {}\n    Object.assign(all, events, functions, modifiers, storage);\n    const array: {[name:string]: string[]} = {};\n    Object.keys(all).forEach(async function(key1){\n      const list: string[] = [];\n      let keyCode: string = await deleteString(all[key1]);\n      Object.keys(all).forEach(function(key2){\n        if (key1 === key2) return;\n        if (keyCode.indexOf(' '+key2+' ') !== -1) list.push(key2);\n        if (keyCode.indexOf(' '+key2+'(') !== -1) list.push(key2);\n        if (keyCode.indexOf(' '+key2+')') !== -1) list.push(key2);\n        if (keyCode.indexOf(' '+key2+'[') !== -1) list.push(key2);\n        if (keyCode.indexOf(' '+key2+';') !== -1) list.push(key2);\n        if (keyCode.indexOf(' '+key2+',') !== -1) list.push(key2);\n        if (keyCode.indexOf(')'+key2+',') !== -1) list.push(key2);\n        if (keyCode.indexOf('('+key2+',') !== -1) list.push(key2);\n        if (keyCode.indexOf('['+key2+']') !== -1) list.push(key2);\n      });\n      array[key1] = list;\n    });\n    console.log(array);\n    setFunctions(functions);\n    setEvents(events);\n    setModifiers(modifiers);\n    setStorage(storage);\n    setAll(all);\n    setArray(array);\n  } \n\n  const changeChart = async () =>{\n    let useCase;\n    if (!selectCase) return;\n    else useCase = takeOutFunction(selectCase);\n    let madeChart: string = await makeChart(useCase, array);\n    const chartNew = `\n    graph TD\n    A(sender).->${useCase}\n    click ${useCase} callback\n    ${madeChart}`;\n    setChart(chartNew);\n  }\n\n  const handleMermaid = () => {\n    const node = myRef.current;\n    if (!node) return;\n    node.removeAttribute('data-processed');\n    var config = {\n      startOnLoad:true,\n      flowchart:{\n        useMaxWidth:false,\n      },\n      securityLevel:'loose' as mermaidAPI.SecurityLevel,\n    };\n    mermaid.initialize(config);\n    (window as any).callback = function (e: any) {\n      setSelectCode(all[e]);\n    }\n    mermaid.contentLoaded();\n    mermaid.init(node);\n  }\n\n  return (\n    <Box component=\"span\" sx={{backgroundColor:\"white\",width:\"35vw\",mx:\"10px\",overflow:\"auto\"}}>\n      <Typography variant=\"h5\">\n        フローチャート\n      </Typography>\n      <Box sx={{overflow:\"auto\"}}>\n      {\tchart &&\n        <div ref={myRef} className=\"mermaid\">\n            { chart }\n        </div>\n      }\n      </Box>\n    </Box>\n  )\n}\n\nconst takeOutFunction = (func: string) => {\n  const i = func.indexOf('(');\n  return func.slice(0, i);\n}\n\nconst deleteString = async (code: string) => {\n  while(code.indexOf('\\\"') !== -1) {\n    const start = code.indexOf('\\\"');\n    let end = code.indexOf('\\\"', start+1)+1;\n    if (end === 0) return code;\n    if (code.length <= end)  end = end-1;\n    code = code.slice(0, start) + code.slice(end);\n  }\n  while(code.indexOf('\\'') !== -1) {\n    const start = code.indexOf('\\'');\n    let end = code.indexOf('\\'', start+1)+1;\n    if (end === 0) return code;\n    if (code.length <= end) end = end-1;\n    code = code.slice(0, start) + code.slice(end);\n  }\n  return code;\n}","const axios = require('axios');\n\nconst urlFront = 'https://api.etherscan.io/api?module=contract&action=getsourcecode&address=';\nconst urlBack = '&apikey=' + process.env.REACT_APP_ETHERSCAN_API;\n\nexport const getEtherscan = async (address: string) => {\n  if(address === '') {\n    console.error('address is empty')\n    return '';\n  }\n  let response = null;\n  try {\n    response = await axios.get(urlFront + address + urlBack);\n  } catch (error) {\n    console.log(error);\n  };\n  if (response === '') {\n    console.error('response is empty');\n    return '';\n  }\n  console.log(response.data);\n  return response.data.result[0];\n}","const { EVM } = require('evm');\nconst provider = 'https://mainnet.infura.io/v3/' + process.env.REACT_APP_INFRA_API_KEY;\nconst Web3 = require('web3');\nconst web3 = new Web3(new Web3.providers.HttpProvider(provider));\n\nexport const getFunctions = async (address: string) => {\n  let functions:string[] = [];\n  try {\n    const byteCode = await web3.eth.getCode(address);\n    const evm = new EVM(byteCode);\n    functions = evm.getFunctions();\n  } catch(error) {\n    console.log(error);\n  }\n  if (functions.length === 0) {\n    console.error('functions is empty');\n    return [];\n  }\n  return functions;\n}","import React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport Box from '@mui/material/Box';\nimport { ContractInfo } from '../ContractInfo';\nimport { UseCase } from '../UseCase';\nimport { SequenceGraph } from '../SequenceGraph';\nimport { Code } from '../Code';\nimport { FlowChart } from '../FlowChart';\nimport { getEtherscan } from '../../hooks/useEtherscan';\nimport { getFunctions } from '../../hooks/useEVM';\nimport { Info } from '../../types';\n\nexport const Analytics = () => {\n  const [address, setAddress] = useState<string>('');\n  const [info, setInfo] = useState<Info>({\n    address: '',\n    name: '',\n    license: '',\n    proxy: '',\n  });\n  const [code, setCode] = useState<string>('');\n  const [functions, setFunctions] = useState<string[]>([]);\n  const [selectCase, setSelectCase] = useState<string>('');\n  const [selectCode, setSelectCode] = useState<string>('');\n  const search = useLocation().search;\n  const query = new URLSearchParams(search);\n  \n  useEffect(() => {\n    if(!query.get('address')) return;\n    const address = query.get('address') as string;\n    setAddress(address);\n  }, []);\n\n  useEffect(() => {\n    init();\n  }, [address]);\n\n  const setSelectCaseFunction = (caseName: string): void => {\n    setSelectCase(caseName)\n  }\n\n  const setSelectCodeFunction = (codeName: string): void => {\n    setSelectCode(codeName);\n  }\n\n  const init = async () => {\n    if (address === '') return;\n    const res = await getEtherscan(address);\n    const info = {\n      address: address,\n      name: res.ContractName,\n      license: res.LicenseType,\n      proxy: res.Proxy,\n    }\n    setInfo(info);\n    const code = res.SourceCode;\n    setCode(code);\n    const functions = await getFunctions(address);\n    setFunctions(functions);\n  }\n  \n  return (\n    <Box>\n      <Box sx={{bgcolor:\"whitesmoke\",padding:\"10px\",pb:\"0px\"}}>\n        <ContractInfo address={address} info={info}/>\n      </Box>\n      <Box sx={{height: \"81vh\", display:\"flex\",flexDirection:\"row\",bgcolor:\"whitesmoke\",padding:\"10px\"}}>\n        <UseCase functions={functions} setSelectCase={setSelectCaseFunction}/>\n        <FlowChart code={code} selectCase={selectCase} setSelectCode={setSelectCodeFunction}/>\n        <Box sx={{display:\"flex\",flexDirection:\"column\",bgcolor:\"whitesmoke\",height: \"81vh\",width:\"47vw\"}}>\n          <Code selectCode={selectCode}/>\n          <SequenceGraph code={code} selectCase={selectCase} setSelectCode={setSelectCodeFunction}/>\n        </Box>\n      </Box>\n    </Box>\n  )\n}","import React from 'react';\nimport {BrowserRouter, Route, Routes} from 'react-router-dom';\nimport {Header} from './components/Header';\nimport {Home} from './components/Home';\nimport {Analytics} from './components/Analytics';\n\nfunction App() {\n  return (\n    <><Header/>\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"CodeDAO/\" element={<Analytics />} />\n      </Routes>\n    </BrowserRouter>\n    </>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}